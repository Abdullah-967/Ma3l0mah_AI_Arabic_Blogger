# معلومة AI مدون عربي - نظام سير العمل الكامل لـ n8n

## 🎯 نظرة عامة على المشروع

**معلومة AI مدون عربي** هو نظام كامل آلي لإنشاء ونشر المحتوى مبني على سير عمل n8n. يحول هذا المشروع المقالات العلمية الإنجليزية إلى محتوى عربي جذاب للجمهور الشرق أوسطي، مع ميزات توليد الاستعلامات البحثية الآلية، وجلب المقالات، والترجمة والتكييف المدعوم بالذكاء الاصطناعي، والنشر متعدد القنوات.

## 🧩 مكونات سير العمل

### 1. **blogger-ar-queries-agent.json** - مولد الاستعلامات الذكي
**الغرض**: توليد استعلامات بحث رائجة ودائمة للجماهير العربية المهتمة بعلم النفس وعلم الأعصاب والمواضيع العلمية.

**الميزات الرئيسية**:
- يستخدم وكلاء الذكاء الاصطناعي مع Perplexity Deep Search وGoogle Gemini
- ينتج 20 استعلام بحث ذات صلة ثقافية (70% دائم، 30% رائج)
- يحفظ الاستعلامات في Airtable للمعالجة المنهجية
- يركز على اهتمامات وأنماط البحث لمنطقة الشرق الأوسط وشمال أفريقيا

### 2. **blogger-ar-fetch-articles.json** - جامع المقالات متعدد المصادر
**الغرض**: البحث وجمع المقالات من مطبوعات علمية متعددة بناءً على الاستعلامات المولدة.

**الميزات الرئيسية**:
- يبحث في 5 مطبوعات علمية رئيسية بشكل متزامن:
  - Psychology Today
  - Scientific American
  - Live Science
  - Big Think
  - Greater Good Berkeley
- يستخدم Google Custom Search API مع مرشحات مستهدفة
- يستخرج البيانات الوصفية والصور ومعاينات المقالات
- يحفظ النتائج في Airtable مع إزالة التكرار

### 3. **ma3l0mah-get-generate-blog.json** - خط أنابيب المحتوى الكامل
**الغرض**: سير العمل الرئيسي الذي يحول المقالات المصدرية إلى مشاركات مدونة عربية ومحتوى وسائل التواصل الاجتماعي المنشور.

**تدفق العملية الكامل**:
1. **كشط المحتوى**: يستخدم Firecrawl لاستخراج محتوى المقالة بالكامل
2. **توليد الصور**: يجلب صورًا ذات صلة من Pexels API
3. **تحسين SEO**: يولد عناوين SEO عربية وروابط مختصرة ووصوفات ميتا
4. **تحويل المحتوى**: ينشئ مشاركات مدونة عربية شاملة مع تكييف ثقافي
5. **النشر متعدد القنوات**: 
   - النشر على منصة Blogger
   - إرسال رسائل Telegram للقنوات العربية
   - إشعارات البريد الإلكتروني للمراجعة
6. **إدارة البيانات**: تحديث سجلات Airtable بحالة النشر

## 🚀 دليل البدء السريع

### المتطلبات الأساسية
قبل إعداد سير العمل هذا، تأكد من أن لديك:

- مثيل n8n (سحابي أو مستضاف ذاتيًا)
- مفتاح Google Custom Search API ومعرف محرك البحث
- حساب Airtable ووصول API
- مفتاح Firecrawl API
- مفتاح Pexels API
- أوراق اعتماد Google OAuth2 لـ Blogger
- رمز Telegram Bot
- مفاتيح Anthropic/OpenAI API

### الخطوة 1: استيراد سير العمل

انسخ والصق كل ملف JSON في مثيل n8n الخاص بك:

1. اذهب إلى n8n ← Workflows ← Import from file
2. الصق محتوى JSON لكل سير عمل
3. احفظ وفعّل كل سير عمل

### الخطوة 2: تكوين أوراق اعتماد API

قم بإعداد الأوراق التالية في مثيل n8n الخاص بك:

**Google APIs**:
```
نوع الاعتماد: Google OAuth2 API
استخدم لـ: Custom Search, Blogger API
النطاقات: https://www.googleapis.com/auth/blogger
```

**تكامل Airtable**:
```
نوع الاعتماد: Airtable OAuth2 API
معرف القاعدة: [معرف قاعدة Airtable الخاص بك]
```

**خدمات الذكاء الاصطناعي**:
```
Anthropic API: [مفتاح Anthropic API الخاص بك]
Google Gemini API: [مفتاح Google AI Studio الخاص بك]
Perplexity API: [مفتاح Perplexity API الخاص بك]
```

**خدمات المحتوى**:
```
Firecrawl API: [مفتاح Firecrawl API الخاص بك]
Pexels API: [مفتاح Pexels API الخاص بك]
```

**الاتصالات**:
```
Telegram Bot API: [رمز Bot الخاص بك]
Gmail OAuth2: [أوراق اعتماد Gmail الخاصة بك]
```

### الخطوة 3: إعداد قاعدة بيانات Airtable

أنشئ قاعدة Airtable مع هذه الجداول:

**جدول الاستعلامات**:
- `query` (نص سطر واحد)
- `freshness` (اختيار: يومي، أسبوعي)
- `status` (اختيار: جديد، تم جلبه، فشل)
- `last_run_at` (التاريخ والوقت)
- `error_log` (نص طويل)

**جدول المقالات**:
- `url` (رابط)
- `search_query` (نص سطر واحد)
- `site` (نص سطر واحد)
- `title` (نص سطر واحد)
- `description` (نص طويل)
- `author` (نص سطر واحد)
- `published_at` (التاريخ والوقت)
- `image_url` (رابط)
- `article_html` (نص طويل)
- `word_count` (رقم)
- `status` (اختيار: جديد، تم النشر، فشل، تم الإثراء)
- `blog_post_url` (رابط)
- `blog_post_id` (نص سطر واحد)
- `error_log` (نص طويل)

**جدول المدونات**:
- `blog_id` (نص سطر واحد)
- `url` (رابط)
- `title` (نص سطر واحد)
- `blog_html` (نص طويل)
- `Status` (نص سطر واحد)

### روابط Webhook للاختبار اليدوي

بعد استيراد سير العمل، استخدم مسارات webhook هذه للاختبار:

- **مولد الاستعلامات**: `<your-webhook-url>`
- **جامع المقالات**: `<your-webhook-url>`
- **خط أنابيب المحتوى**: `<your-webhook-url>`

## 🛠 التكوين المتقدم

### المطالبات الذكية المخصصة

يستخدم النظام عدة مطالبات ذكية يمكن تخصيصها:

**مطالبة توليد الاستعلامات** (في blogger-ar-queries-agent.json):
- تعديل رسالة النظام للتركيز على مواضيع مختلفة
- تعديل الاستهداف الديموغرافي
- تغيير نسبة الدائم/الرائج

**مطالبة إنشاء المحتوى** (في ma3l0mah-get-generate-blog.json):
- تخصيص أسلوب الكتابة العربي
- تعديل إرشادات SEO
- تعديل هيكل المحتوى والأقسام

**مطالبة وسائل التواصل الاجتماعي** (في ma3l0mah-get-generate-blog.json):
- تغيير تنسيق منشور Telegram
- تعديل استراتيجية الهاشتاج
- تعديل النبرة والصوت

### إضافة مصادر محتوى جديدة

لإضافة مطبوعات علمية جديدة إلى جامع المقالات:

1. كرر عقدة HTTP Request موجودة في blogger-ar-fetch-articles.json
2. عدّل معاملات الاستعلام البحثي للموقع الجديد
3. أضف عقدة Code جديدة لمعالجة النتائج
4. اربطها بعقدة Upsert Articles Records الرئيسية

### دعم متعدد اللغات

يمكن تكييف النظام للغات أخرى من خلال:

1. تعديل مطالبات الذكاء الاصطناعي في سير عمل توليد المحتوى
2. تحديث استعلامات البحث لاستهداف مطبوعات لغات مختلفة
3. تعديل أسماء حقول Airtable والهيكل حسب الحاجة

## 📊 المراقبة والتحليلات

### تتبع تنفيذ سير العمل

راقب سير عملك من خلال:

- تاريخ تنفيذ n8n لمعدلات النجاح/الفشل
- سجلات Airtable لحالة خط أنابيب المحتوى
- تحليلات قناة Telegram لمقاييس المشاركة
- Google Search Console لأداء SEO للمدونة

### المقاييس الرئيسية للتتبع

- **توليد الاستعلامات**: عدد الاستعلامات المولدة لكل تشغيل
- **جلب المقالات**: معدل نجاح اكتشاف المقالات
- **إنشاء المحتوى**: الوقت من المصدر إلى المقالة المنشورة
- **المشاركة**: مشاركات وسائل التواصل الاجتماعي وحركة مرور المدونة

## 🔧 استكشاف الأخطاء وإصلاحها

### المشاكل الشائعة والحلول

**حدود معدل API**:
- أضف عقد انتظار بين استدعاءات API
- نفّذ منطق إعادة المحاولة مع التراجع الأسي
- استخدم مفاتيح API متعددة للاستخدام عالي الحجم

**مشاكل جودة المحتوى**:
- صقل مطالبات الذكاء الاصطناعي لمخرجات أفضل
- أضف عقد التحقق من صحة المحتوى
- نفّذ نقاط تفتيش المراجعة البشرية

**مشاكل مزامنة قاعدة البيانات**:
- تحقق من حدود Airtable API
- تحقق من تعيين الحقول في عمليات Upsert
- راقب السجلات المكررة

### التعامل مع الأخطاء

تتضمن سير العمل معالجة أخطاء مدمجة:
- يتم تسجيل التنفيذات الفاشلة في Airtable
- إشعارات البريد الإلكتروني للفشل الحرج
- آليات إعادة المحاولة التلقائية للمشاكل المؤقتة

## 🤝 المساهمة

لتحسين أو توسيع هذا النظام:

1. اعمل fork لتكوينات سير العمل
2. اختبر التغييرات في بيئة التطوير
3. وثّق أي ميزات أو تعديلات جديدة
4. شارك التحسينات مع المجتمع

## 📄 الرخصة

هذا المشروع مفتوح المصدر ومتاح تحت رخصة MIT. يمكنك الاستخدام والتعديل والتوزيع حسب الحاجة.

## 🆘 الدعم

للحصول على مساعدة في الإعداد أو استكشاف الأخطاء وإصلاحها:

1. تحقق من منتديات مجتمع n8n
2. راجع وثائق API لكل خدمة
3. اختبر عقد سير العمل الفردية للتصحيح
4. راقب سجلات التنفيذ لرسائل خطأ محددة

---

**ملاحظة**: هذا النظام مصمم لأغراض تعليمية وإنشاء محتوى مشروع. تأكد من الامتثال لجميع شروط خدمة API ومتطلبات ترخيص المحتوى عند استخدام هذا النظام.